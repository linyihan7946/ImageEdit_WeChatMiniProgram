<!--index.wxml-->
<view class="container">
  <view class="header">
    <view class="user-info">
      <image class="avatar" src="{{userAvatar || '/images/avatar-placeholder.svg'}}"></image>
      <text class="welcome">欢迎，{{username || '微信用户'}}</text>
    </view>
    <button class="logout-btn" bindtap="onLogout">退出登录</button>
  </view>
  <view class="main-content">
    <button class="vertical-button doubao-button" bindtap="onDoubaoRemoveWatermark">豆包出图去水印</button>
    <button class="vertical-button creative-edit-button" bindtap="onCreativeImageEdit">创意图片编辑</button>
    <button class="vertical-button dish-ingredient-button" bindtap="onDishIngredientEdit">菜品食材用料图</button>
    <button class="vertical-button colorize-button" bindtap="onColorizePress" hidden>手绘变彩图</button>
    <button class="vertical-button cos-auth-button" bindtap="onTest" hidden>测试</button>
  </view>

  <!-- 图片显示区域 -->
  <view class="image-display-area" wx:if="{{processedImageUrl || originalImagePath}}">
    <view class="image-container" bindlongtap="onToggleImage">
      <image 
        class="result-image" 
        src="{{isShowingOriginal ? originalImagePath : processedImageUrl}}" 
        mode="aspectFit"
      ></image>
      <view class="image-hint">长按切换图片</view>
      <view class="image-status">{{isShowingOriginal ? '当前显示：原图' : '当前显示：处理后的图片'}}</view>
    </view>
  </view>
</view>
